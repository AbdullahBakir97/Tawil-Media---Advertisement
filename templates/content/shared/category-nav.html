{% load static %}

<nav class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
    <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Categories</h2>
    
    <div class="space-y-2">
        {% for category in categories %}
        <a href="{{ category.get_absolute_url }}" 
           class="flex items-center justify-between group py-2 {% if category.slug == current_category.slug %}text-primary-600 dark:text-primary-400{% else %}text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400{% endif %}">
            <span class="flex items-center">
                {% if category.icon %}
                <span class="mr-3">{{ category.icon|safe }}</span>
                {% endif %}
                {{ category.name }}
            </span>
            
            {% if category.article_count %}
            <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400">
                {{ category.article_count }}
            </span>
            {% endif %}
        </a>
        {% endfor %}
    </div>
    
    {% if featured_categories %}
    <div class="mt-6 pt-6 border-t border-gray-200 dark:border-gray-700">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">
            Featured Categories
        </h3>
        
        <div class="grid grid-cols-2 gap-4">
            {% for category in featured_categories %}
            <a href="{{ category.get_absolute_url }}" 
               class="relative group overflow-hidden rounded-lg">
                {% if category.featured_image %}
                <img src="{{ category.featured_image.url }}" 
                     alt="{{ category.name }}"
                     class="w-full aspect-[4/3] object-cover transform group-hover:scale-110 transition-transform duration-300">
                {% endif %}
                
                <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                
                <div class="absolute bottom-0 left-0 p-4">
                    <h4 class="text-white font-medium mb-1">{{ category.name }}</h4>
                    {% if category.article_count %}
                    <span class="text-sm text-gray-200">
                        {{ category.article_count }} articles
                    </span>
                    {% endif %}
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</nav>
